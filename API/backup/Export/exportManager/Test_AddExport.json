{"story_description": "提交下载文件请求", "server": "Export", "model": "exportManager", "switch": false, "request": {"method": "post", "url_path": "/manager/export"}, "body": {"logtype": "list", "filename": "List_TXT_utf${AnyRobotNameID}$", "timezone": 8, "user": "f5a08cb056c539d76f373bbc94458e39", "fileType": "txt", "fileCode": "UTF-8", "query": [{"logGroup": "fe5b7f96-443a-11e7-a467-000c29253e90", "query": "*|bucket datehistorgram(@timestamp) interval=1M timezone='Asia/Shanghai' mindoccount=1 as 2", "sort": [{"@timestamp": "desc"}], "size": 41470, "needFieldList": true, "filters": {"must": [{"@timestamp": {"from": 1428459519981, "to": 1586312319981}}], "must_not": []}}], "fields": ["_source"], "indexs": ["fe5b7f96-443a-11e7-a467-000c29253e90"]}, "testcases": {"TestCase1": {"Description": "正常场景:提交下载txt格式UTF编码列表文件", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase2": {"Description": "正常场景:提交下载csv格式GBK编码原始日志文件", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase3": {"Description": "正常场景：filename=\" \"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase4": {"Description": "异常场景:filename=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase5": {"Description": "异常场景：filename=6", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase6": {"Description": "正常场景：filename=\"!@#$%\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase7": {"Description": "异常场景：fileName=\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase8": {"Description": "异常场景：filename=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase9": {"Description": "正常场景：filename=\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase10": {"Description": "正常场景：filename=*", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase11": {"Description": "异常场景:logtype=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase12": {"Description": "异常场景：logtype=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase13": {"Description": "异常场景：logtype=6", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase14": {"Description": "正常场景:logtype=\" \"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase15": {"Description": "正常场景:logtype=\"!@#$%^&*/\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase16": {"Description": "正常场景:logtype=\"\\\"\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase17": {"Description": "正常场景：logType=\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase18": {"Description": "异常场景：timezone=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase19": {"Description": "异常场景：timezone=\"\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase20": {"Description": "异常场景：timezone=[ ]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase21": {"Description": "正常类型：timezone=-99.99", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase22": {"Description": "正常情况：timezone=99.99", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase23": {"Description": "异常情况：timezone=\\\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase24": {"Description": "异常情况:timezone=*", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase25": {"Description": "异常类型：timezone=qqq", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase26": {"Description": "异常情况：user=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase27": {"Description": "正常场景：user=\" \"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase28": {"Description": "异常场景：user=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase29": {"Description": "正常场景：user=合合法值", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase30": {"Description": "正常场景：user=@#$%^&*/", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase31": {"Description": "正常场景：user=\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase32": {"Description": "异常场景：user=6", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase33": {"Description": "异常场景：fileType=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase34": {"Description": "异常场景：fileType=\"\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase35": {"Description": "异常场景：fileType=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase36": {"Description": "异常场景：fileType=6", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase37": {"Description": "正常场景：fileType=@#$%^&*/", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase38": {"Description": "正常场景：fileType=\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase39": {"Description": "异常情况：fileType=\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase40": {"Description": "异常场景：fileType很长", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase41": {"Description": "异常场景：fileCode=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase42": {"Description": "异常场景：fileCode=\" \"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase43": {"Description": "异常场景：fileCode=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase44": {"Description": "异常场景：fileCode=!@#$%^&*(/'", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase45": {"Description": "异常场景：fileCode=\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase46": {"Description": "异常场景：fileCode=\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase47": {"Description": "异常场景：fileCode=很长很长", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase48": {"Description": "异常情况：外层query=null;3759210497", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase49": {"Description": "异常情况：query =\" \";3759210497", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase50": {"Description": "异常情况：query=[];3759210497", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase51": {"Description": "异常情况：query=9:3759210501", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase52": {"Description": "异常情况：query=\"!@#$%^&*/\":3759210501", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase53": {"Description": "异常情况：query=\"\\\\\":3759210501", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase54": {"Description": "异常情况：query=\"!@#$%^&*/\":3759210501", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase55": {"Description": "异常情况：loggroup=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase56": {"Description": "正常场景：loggroup=\"\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase57": {"Description": "异常场景：loggroup=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase58": {"Description": "异常场景：loggroup=6", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase59": {"Description": "异常场景：loggroup=@#$%^&*/'", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase60": {"Description": "正常场景：loggroup=\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase61": {"Description": "正常场景：loggroup=\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase62": {"Description": "异常场景：logGroup很长", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase63": {"Description": "异常场景：size=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase64": {"Description": "异常场景”size=\"\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase65": {"Description": "异常情况：size=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase66": {"Description": "异常场景：size=\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase67": {"Description": "异常场景：size=\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase68": {"Description": "异常场景：size=@#$%^*/", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase69": {"Description": "异常情况：size=-99.99", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase70": {"Description": "异常场景：size=0", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase71": {"Description": "异常场景：size=9999999999999999999", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase72": {"Description": "异常场景：fields=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase73": {"Description": "异常场景：fields=\"\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase74": {"Description": "异常场景：logtype=list时，fields=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase75": {"Description": "正常场景：logtype=origin;fields=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase76": {"Description": "异常场景：fields=6", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase77": {"Description": "异常场景：fileds=$#@%^&*.'/", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase78": {"Description": "异常场景：fields=\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase79": {"Description": "异常场景：fields=\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase80": {"Description": "异常情况：index=null", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase81": {"Description": "异常情况：index=“”", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase82": {"Description": "正常情况：index=[]", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase83": {"Description": "异常情况：index=\\", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase84": {"Description": "异常情况：index=\"", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase85": {"Description": "异常情况：index=@#!$%^&*./'", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}, "TestCase86": {"Description": "异常情况：index=6", "url_path": "", "isOperationDb": "", "req_body": "", "runflag": true, "verify": {"type": 0}}}}