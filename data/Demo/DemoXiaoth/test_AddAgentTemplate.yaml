model: DemoXiaoth
request:
#  header:
#    user: ${UserID}$
  method: post
  url_path: /manager/agents/config/template
server: Demo
story_description: 添加Agent配置模板
switch: true
body:
  agent: Filebeat
  category: input
  config:
    encoding: plain
    fields:
      tags:
      - apache
      - access
    ignore_older: 0
    paths:
    - /var/log/apache.log
    scan_frequency: 10s
    tail_files: true
    type: log
  description: Apache日志文件采集的相关配置
  name: Apache日志采集${AnyRobotNameID}$

testcases:
  TestCase1:
    Description: 正常场景:添加Agent配置模板
#    isOperationDb: ip
    req_body: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

#  TestCase2:
#    Description: 异常场景:添加Agent配置模板,scan_frequency
#    url_path: /manager/agents/config/template1
#    isOperationDb: ''
#    isParameter: ''
#    req_body:
#      scan_frequency: ytt
#      encoding: abc
#    runflag: true
#    verify:
#      AssertType: 2
#      key: templateId
#      value: false
#
#  TestCase3:
#    Description: 异常场景:添加Agent配置模板,encoding
#    req_body:
#      encoding: utf-8
#    runflag: true
#    verify:
#      AssertType: 0
#      value: 202
#
