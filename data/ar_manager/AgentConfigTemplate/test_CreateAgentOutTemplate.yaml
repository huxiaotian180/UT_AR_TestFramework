model: AgentConfigTemplate
request:
  method: post
  url_path: /manager/agents/config/template
server: ar_manager
story_description: 创建Agent输出配置模板
switch: false
body:
  agent: AR-Agent
  category: output
  config:
    agentProtocol: TCP
    ip: ${IpVR}$
    port: 22
    speed:
      limitSpeed: true
      period:
        date: []
        endTime: 23:59:59
        startTime: 03:04:04
        unit: day
      type: event
      value: 5000
  description: Apache日志收集输出模板
  name: Apache日志收集输出模板${AnyRobotNameID}$
testcases:
  TestCase1:
    Description: 正常场景:创建Agent输出配置模板(按照每天条数限制)
    req_body: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: true

  TestCase10:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),端口为空
    req_body:
      port: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase11:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),日志限制条数非法
    req_body:
      value: abc
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase12:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),日志限制条数非法
    req_body:
      value:
      - 5000
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase13:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),日志限制条数为空
    req_body:
      value: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase2:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),agent参数错误
    req_body:
      agent: AR-Agent123
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase2-1:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),agent参数为空
    req_body:
      agent: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase3:
    Description: 正常场景:创建Agent输出配置模板(按照流量限制),用户名重复
    isOperationDb: name
    req_body: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase7:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),IP格式错误
    isOperationDb: ''
    req_body:
      ip: 12.25.qx.25
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase8:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),IP为空
    isOperationDb: ''
    req_body:
      ip: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase9:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),端口非法
    isOperationDb: ''
    req_body:
      port: abc
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase14:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),日志类型type参数非法
    isOperationDb: ''
    req_body:
      type: event123
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase15:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),日志类型type参数为空
    isOperationDb: ''
    req_body:
      type: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase16:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),unit参数非法
    isOperationDb: ''
    req_body:
      unit: day123
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase17:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),unit参数为空
    isOperationDb: ''
    req_body:
      unit: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase18:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),endTime参数非法
    isOperationDb: ''
    req_body:
      endTime: abd
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase19:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),endTime参数为空
    isOperationDb: ''
    req_body:
      endTime: abd
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase20:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),endTime参数非法-小时
    isOperationDb: ''
    req_body:
      endTime: 78:59:59
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase21:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),endTime参数非法-分钟
    isOperationDb: ''
    req_body:
      endTime: 23:100:59
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase23:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),endTime参数非法-秒
    isOperationDb: ''
    req_body:
      endTime: 23:45:150
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase24:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),startTime参数非法-秒
    isOperationDb: ''
    req_body:
      startTime: 03:04:150
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase26:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),startTime参数非法-分钟
    isOperationDb: ''
    req_body:
      startTime: 03:100:59
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase27:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),startTime参数非法-小时
    isOperationDb: ''
    req_body:
      startTime: 150:10:59
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase28:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),startTime参数非法
    isOperationDb: ''
    req_body:
      startTime: sbdb
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase29:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),startTime参数为空
    isOperationDb: ''
    req_body:
      startTime: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase30:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),startTime晚于endTime时间
    isOperationDb: ''
    req_body:
      endTime: 02:04:04
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase31:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),limitSpeed参数类型错误
    isOperationDb: ''
    req_body:
      limitSpeed: abdv
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase32:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),agentProtocol参数类型错误
    isOperationDb: ''
    req_body:
      agentProtocol: abc
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase33:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),agentProtocol参数为空
    isOperationDb: ''
    req_body:
      agentProtocol: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase34:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),category参数为空
    isOperationDb: ''
    req_body:
      category: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase35:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),category参数类型错误
    isOperationDb: ''
    req_body:
      category: abc
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase36:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),date参数类型非法
    isOperationDb: ''
    req_body:
      date:
      - 1
      - 21
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase37:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),date参数类型错误
    isOperationDb: ''
    req_body:
      date:
        - 1
        - abc
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase38:
    Description: 异常场景:创建Agent输出配置模板(按照每天条数限制),date参数数据类型错误
    isOperationDb: ''
    req_body:
      date: abc
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase39:
    Description: 正常场景:创建Agent输出配置模板(按照每天网速限制)
    isOperationDb: ''
    req_body:
      type: bandwidth
      value: 2MB/S
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: true

  TestCase40:
    Description: 异常场景:创建Agent输出配置模板(按照每天网速限制),value参数非法
    isOperationDb: ''
    req_body:
      type: bandwidth
      value: abc
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false

  TestCase41:
    Description: 异常场景:创建Agent输出配置模板(按照每天网速限制),value参数为空
    isOperationDb: ''
    req_body:
      type: bandwidth
      value: ''
    runflag: true
    verify:
      AssertType: 2
      key: templateId
      value: false