model: AgentHostgroup
request:
  method: post
  url_path: /manager/agents/hostgroup
server: ar_manager
story_description: 添加Agent主机组
switch: true
body:
  description: 添加Agent主机组
  hosts:
  - ${HostID}$
  name: Apache主机组${AnyRobotNameID}$
  tagsID:
  - 4
  templateIds:
  - ${JobTemplateID}$
  whitelist:
  - SQLServer
testcases:
  TestCase1:
    Description: 正常场景:添加Agent主机组
    req_body: ''
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: true

  TestCase2:
    Description: 异常场景:添加Agent主机组tagsID参数错误
    req_body:
      tagsID:
      - 25
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase3:
    Description: 异常场景:创建主机组tagsID参数为空
    req_body:
      tagsID: []
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase3-1:
    Description: 异常场景:创建主机组tagsID参数类型错误
    req_body:
      tagsID: 4
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase4:
    Description: 异常场景:创建主机组whitelist参数非法
    req_body:
      whitelist:
      - Oracle123
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase4-1:
    Description: 异常场景:创建主机组whitelist参数为空
    req_body:
      whitelist: []
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase4-2:
    Description: 异常场景:创建主机组whitelist参数类型错误
    req_body:
      whitelist: Oracle
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase5:
    Description: 异常场景:创建主机组templateIds参数非法
    req_body:
      templateIds:
      - ${UUid}$
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase5-1:
    Description: 异常场景:创建主机组templateIds参数类型错误
    req_body:
      templateIds: ${JobTemplateID}$
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase6:
    Description: 异常场景:添加Agent主机组,主机组名已存在
    isOperationDb: name
    req_body: ''
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase7:
    Description: 异常场景:添加Agent主机组,hosts参数值不存在
    req_body:
      hosts:
      - ${UUid}$
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false

  TestCase8:
    Description: 异常场景:添加Agent主机组,hosts参数类型错误
    isOperationDb: name
    req_body:
      hosts: ${HostID}$
    runflag: true
    verify:
      AssertType: 2
      key: groupId
      value: false