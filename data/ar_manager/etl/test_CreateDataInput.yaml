story_description: 创建数据输入
server: ar_manager
model: etl
switch: true
request:
  method: post
  url_path: /etl/input
body:
  protocol: tcp
  charset: UTF-8
  port: ${getEtlPortNew}$
  type: GitLab_${AnyRobotNameID}$
  tags:
  - SQLServer
  tagsID:
  - 4
  ruleName: ''
  status: 1
  community: []
  timezone: Asia/Shanghai
testcases:
  TestCase1:
    Description: 正常场景:创建数据输入
    req_body: ''
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: true


  TestCase2:
    Description: 异常场景:创建数据输入protocol参数非法
    req_body:
      protocol: abd
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase3:
    Description: 异常场景:创建数据输入protocol参数为空
    req_body:
      protocol: ''
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase4:
    Description: 异常场景:创建数据输入port参数为空
    req_body:
      port: ''
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase5:
    Description: 异常场景:创建数据输入port参数类型非法
    req_body:
      port: abc
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase6:
    Description: 异常场景:创建数据输入port参数值非法
    req_body:
      port: ${getEtlPortIll}$
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase7:
    Description: 异常场景:创建数据输入,tags参数值非法
    req_body:
      tags:
      - SQLServer12
      - ElasticSearch12
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase8:
    Description: 异常场景:创建数据输入,tags参数类型错误
    req_body:
      tags: SQLServer12
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase9:
    Description: 异常场景:创建数据输入,tags参数为空
    req_body:
      tags: []
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase10:
    Description: 异常场景:创建数据输入,tagsID参数为空
    req_body:
      tagsID: []
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase11:
    Description: 异常场景:创建数据输入,tagsID参数值非法
    req_body:
      tagsID:
      - abc
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase12:
    Description: 异常场景:创建数据输入,tagsID参数类型错误
    req_body:
      tagsID: 4,6
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false


  TestCase13:
    Description: 异常场景:创建数据输入,status参数类型错误
    req_body:
      status: abc
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase14:
    Description: 异常场景:创建数据输入,status参数值为空
    req_body:
      status: ''
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase15:
    Description: 异常场景:创建数据输入,charset参数值为空
    req_body:
      charset: ''
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false

  TestCase16:
    Description: 异常场景:创建数据输入,charset参数值非法
    req_body:
      charset: UTF-812312
    runflag: true
    verify:
      AssertType: 2
      key: id
      value: false