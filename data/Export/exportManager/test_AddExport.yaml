story_description: 提交下载文件请求
server: Export
model: exportManager
switch: false
request:
  method: post
  url_path: /manager/export
body:
  logtype: list
  filename: List_TXT_utf${AnyRobotNameID}$
  timezone: 8
  user: f5a08cb056c539d76f373bbc94458e39
  fileType: txt
  fileCode: UTF-8
  query:
  - logGroup: fe5b7f96-443a-11e7-a467-000c29253e90
    query: "*|bucket datehistorgram(@timestamp) interval=1M timezone='Asia/Shanghai'\
      \ mindoccount=1 as 2"
    sort:
    - '@timestamp': desc
    size: 41470
    needFieldList: true
    filters:
      must:
      - '@timestamp':
          from: 1428459519981
          to: 1586312319981
      must_not: []
  fields:
  - _source
  indexs:
  - fe5b7f96-443a-11e7-a467-000c29253e90

testcases:
  TestCase1:
    Description: 正常场景:提交下载txt格式UTF编码列表文件
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase2:
    Description: 正常场景:提交下载csv格式GBK编码原始日志文件
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase3:
    Description: 正常场景：filename=" "
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase4:
    Description: 异常场景:filename=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase5:
    Description: 异常场景：filename=6
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase6:
    Description: 正常场景：filename="!@#$%"
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase7:
    Description: 异常场景：fileName=\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase8:
    Description: 异常场景：filename=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase9:
    Description: 正常场景：filename="
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase10:
    Description: 正常场景：filename=*
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase11:
    Description: 异常场景:logtype=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase12:
    Description: 异常场景：logtype=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase13:
    Description: 异常场景：logtype=6
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase14:
    Description: 正常场景:logtype=" "
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase15:
    Description: 正常场景:logtype="!@#$%^&*/"
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase16:
    Description: 正常场景:logtype="\""
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase17:
    Description: 正常场景：logType=\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase18:
    Description: 异常场景：timezone=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase19:
    Description: 异常场景：timezone=""
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase20:
    Description: 异常场景：timezone=[ ]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase21:
    Description: 正常类型：timezone=-99.99
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase22:
    Description: 正常情况：timezone=99.99
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase23:
    Description: 异常情况：timezone=\\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase24:
    Description: 异常情况:timezone=*
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase25:
    Description: 异常类型：timezone=qqq
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase26:
    Description: 异常情况：user=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase27:
    Description: 正常场景：user=" "
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase28:
    Description: 异常场景：user=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase29:
    Description: 正常场景：user=合合法值
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase30:
    Description: 正常场景：user=@#$%^&*/
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase31:
    Description: 正常场景：user=\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase32:
    Description: 异常场景：user=6
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase33:
    Description: 异常场景：fileType=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase34:
    Description: 异常场景：fileType=""
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase35:
    Description: 异常场景：fileType=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase36:
    Description: 异常场景：fileType=6
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase37:
    Description: 正常场景：fileType=@#$%^&*/
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase38:
    Description: 正常场景：fileType=\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase39:
    Description: 异常情况：fileType="
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase40:
    Description: 异常场景：fileType很长
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase41:
    Description: 异常场景：fileCode=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase42:
    Description: 异常场景：fileCode=" "
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase43:
    Description: 异常场景：fileCode=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase44:
    Description: 异常场景：fileCode=!@#$%^&*(/'
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase45:
    Description: 异常场景：fileCode=\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase46:
    Description: 异常场景：fileCode="
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase47:
    Description: 异常场景：fileCode=很长很长
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase48:
    Description: 异常情况：外层query=null;3759210497
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase49:
    Description: 异常情况：query =" ";3759210497
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase50:
    Description: 异常情况：query=[];3759210497
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase51:
    Description: 异常情况：query=9:3759210501
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase52:
    Description: 异常情况：query="!@#$%^&*/":3759210501
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase53:
    Description: 异常情况：query="\\":3759210501
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase54:
    Description: 异常情况：query="!@#$%^&*/":3759210501
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase55:
    Description: 异常情况：loggroup=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase56:
    Description: 正常场景：loggroup=""
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase57:
    Description: 异常场景：loggroup=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase58:
    Description: 异常场景：loggroup=6
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase59:
    Description: 异常场景：loggroup=@#$%^&*/'
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase60:
    Description: 正常场景：loggroup=\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase61:
    Description: 正常场景：loggroup="
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase62:
    Description: 异常场景：logGroup很长
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase63:
    Description: 异常场景：size=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase64:
    Description: 异常场景”size=""
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase65:
    Description: 异常情况：size=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase66:
    Description: 异常场景：size="
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase67:
    Description: 异常场景：size=\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase68:
    Description: 异常场景：size=@#$%^*/
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase69:
    Description: 异常情况：size=-99.99
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase70:
    Description: 异常场景：size=0
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase71:
    Description: 异常场景：size=9999999999999999999
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase72:
    Description: 异常场景：fields=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase73:
    Description: 异常场景：fields=""
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase74:
    Description: 异常场景：logtype=list时，fields=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase75:
    Description: 正常场景：logtype=origin;fields=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase76:
    Description: 异常场景：fields=6
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase77:
    Description: 异常场景：fileds=$#@%^&*.'/
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase78:
    Description: 异常场景：fields=\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase79:
    Description: 异常场景：fields="
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase80:
    Description: 异常情况：index=null
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase81:
    Description: 异常情况：index=“”
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase82:
    Description: 正常情况：index=[]
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase83:
    Description: 异常情况：index=\
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase84:
    Description: 异常情况：index="
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase85:
    Description: 异常情况：index=@#!$%^&*./'
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
  TestCase86:
    Description: 异常情况：index=6
    req_body: ''
    runflag: true
    verify:
      AssertType: 0
      value: 200
